diff -Naur /scratch/f/branches/8.0.4/FreeBSD/ports/net-p2p/transmission-cli/Makefile /scratch/f/trunk/FreeBSD/ports/net-p2p/transmission-cli/Makefile
--- net-p2p/transmission-cli/Makefile	2011-06-30 10:05:53.000000000 -0700
+++ net-p2p/transmission-cli/Makefile	2011-12-11 04:26:57.000000000 -0800
@@ -2,17 +2,18 @@
 # Date created:				08 October 2005
 # Whom:					Mezz <mezz@FreeBSD.org>
 #
-# $FreeBSD: ports/net-p2p/transmission-cli/Makefile,v 1.77 2011/06/30 17:05:53 mezz Exp $
+# $FreeBSD: ports/net-p2p/transmission-cli/Makefile,v 1.83 2011/12/11 12:26:57 crees Exp $
 #
 
 PORTNAME=	transmission
-PORTVERSION=	2.32
+PORTVERSION=	2.42
 PORTREVISION?=	0
 CATEGORIES?=	net-p2p
-MASTER_SITES=	http://download.m0k.org/${PORTNAME}/files/
+#MASTER_SITES=	http://download.m0k.org/${PORTNAME}/files/ \
+MASTER_SITES=	http://transmission.cachefly.net/
 PKGNAMESUFFIX?=	-cli
 
-MAINTAINER?=	mezz@FreeBSD.org
+MAINTAINER?=	crees@FreeBSD.org
 COMMENT?=	A lightweight CLI (command line) BitTorrent client and utilities
 
 SLAVEPORT?=	cli
@@ -28,16 +29,15 @@
 USE_GNOME?=	pkgconfig
 USE_OPENSSL=	yes
 GNU_CONFIGURE=	yes
-CPPFLAGS=	-I${LOCALBASE}/include
-LDFLAGS=	-L${LOCALBASE}/lib
+CPPFLAGS+=	-I${LOCALBASE}/include
+LDFLAGS+=	-L${LOCALBASE}/lib
 CONFIGURE_ARGS=--with-zlib=/usr \
 		--disable-libappindicator \
 		--disable-gconf2 \
 		${EXTRA_CONF_ARGS}
 EXTRA_CONF_ARGS?=--enable-cli \
 		 --disable-daemon \
-		 --disable-gtk \
-		 --disable-libnotify \
+		 --without-gtk \
 		 --disable-mac \
 		 --disable-nls
 
diff -Naur /scratch/f/branches/8.0.4/FreeBSD/ports/net-p2p/transmission-cli/distinfo /scratch/f/trunk/FreeBSD/ports/net-p2p/transmission-cli/distinfo
--- net-p2p/transmission-cli/distinfo	2011-06-30 10:05:53.000000000 -0700
+++ net-p2p/transmission-cli/distinfo	2011-12-11 04:26:57.000000000 -0800
@@ -1,2 +1,2 @@
-SHA256 (transmission-2.32.tar.xz) = f30ba7452333bea5a78884ee98c9e75ce196f92eea0fb9110b326498bd86898c
-SIZE (transmission-2.32.tar.xz) = 2597028
+SHA256 (transmission-2.42.tar.xz) = ca94d8de5338178c2210e86e31aa522f559cac87da33a85199fbd81b7e8b04eb
+SIZE (transmission-2.42.tar.xz) = 2629072
diff -Naur /scratch/f/branches/8.0.4/FreeBSD/ports/net-p2p/transmission-cli/files/patch-fix_without_ipv6 /scratch/f/trunk/FreeBSD/ports/net-p2p/transmission-cli/files/patch-fix_without_ipv6
--- net-p2p/transmission-cli/files/patch-fix_without_ipv6	2011-03-04 20:17:28.000000000 -0800
+++ net-p2p/transmission-cli/files/patch-fix_without_ipv6	2011-10-18 11:36:39.000000000 -0700
@@ -2,7 +2,7 @@
 +++ libtransmission/fdlimit.c	2011-02-27 15:35:12.000000000 -0600
 @@ -609,7 +609,7 @@
  
-     if( gFd->socket_count < gFd->socket_limit )
+     if( gFd->socket_count < session->peerLimit )
          if(( s = socket( domain, type, 0 )) < 0 )
 -            if( sockerrno != EAFNOSUPPORT )
 +            if( sockerrno != EPROTONOSUPPORT )
